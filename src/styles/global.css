@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    a {
        @apply text-inherit no-underline;
    }

    body {
        @apply bg-[#02040a] text-slate-300;
        cursor: none;
    }
}

/* --- SUPERNOVA ANIMATION ENGINE --- */

.supernova-core {
    @apply w-6 h-6 bg-white rounded-full relative z-20;
    /* Glow inicial mais suave */
    box-shadow:
        0 0 15px 2px rgba(255, 255, 255, 0.6),
        0 0 40px 10px rgba(168, 85, 247, 0.4);
    animation: core-instability 2s infinite ease-in-out;
}

.accretion-disk {
    @apply absolute w-40 h-40 rounded-full border border-purple-500/20 opacity-80;
    animation: spin 8s linear infinite;
}

.accretion-disk::before {
    content: '';
    @apply absolute inset-[-15px] rounded-full border border-blue-500/10 border-dashed;
    animation: spin 12s linear infinite reverse;
}

@keyframes core-instability {

    0%,
    100% {
        transform: scale(1);
        opacity: 0.8;
    }

    50% {
        transform: scale(1.1);
        opacity: 1;
        box-shadow: 0 0 25px 5px rgba(255, 255, 255, 0.8), 0 0 50px 15px rgba(168, 85, 247, 0.6);
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* --- A SEQUÊNCIA DE EXPLOSÃO (CORRIGIDA) --- */

/* Esconde os elementos visuais quando a explosão começa */
.loading-finished .accretion-disk,
.loading-finished .loader-text {
    opacity: 0;
    transition: opacity 0.6s ease-out;
}

/* Animação 1: O núcleo apenas encolhe e some */
.loading-finished .supernova-core {
    animation: core-collapse 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes core-collapse {
    to {
        transform: scale(0.01);
        opacity: 0;
    }
}

/* Animação 2: A tela de flash branco */
.loading-finished #white-flash {
    /* Delay para começar após o núcleo começar a encolher */
    animation: flash-bang 1.2s ease-out 0.5s forwards;
}

@keyframes flash-bang {

    /* Aparece suavemente */
    0% {
        opacity: 0;
    }

    10% {
        opacity: 0.3;
    }

    /* Dissipa suavemente */
    100% {
        opacity: 0;
    }
}

/* --- OUTROS EFEITOS GLOBAIS --- */

.scanlines {
    @apply fixed inset-0 z-[100] pointer-events-none opacity-10;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.3));
    background-size: 100% 3px;
}

#custom-cursor {
    @apply fixed top-0 left-0 w-3 h-3 bg-purple-400 rounded-full pointer-events-none z-[60] mix-blend-difference shadow-[0_0_10px_#a855f7];
    transform: translate(-50%, -50%);
}

#custom-cursor-blur {
    @apply fixed top-0 left-0 w-12 h-12 bg-purple-600/20 blur-xl rounded-full pointer-events-none z-[59] transition-transform duration-75 ease-out;
    transform: translate(-50%, -50%);
}

.reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.reveal.visible {
    opacity: 1;
    transform: translateY(0);
}

.glass-panel {
    @apply bg-[#0a0a0c]/80 backdrop-blur-md border border-white/10;
}

.supernova-card {
    @apply bg-white/5 border border-white/10 rounded-xl transition-all duration-300 hover:bg-white/10 hover:border-purple-500/50;
}

.supernova-card:hover {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.15);
}

.planet-glow {
    @apply fixed rounded-full z-[-2] pointer-events-none opacity-50;
    background: radial-gradient(ellipse at center, rgba(147, 51, 234, 0.2) 0%, transparent 70%);
}

.planet-1 {
    @apply w-[800px] h-[800px] top-[-200px] left-[-300px];
}

.planet-2 {
    @apply w-[600px] h-[600px] bottom-[-250px] right-[-250px];
}

.menu-btn {
    @apply fixed top-6 right-6 w-12 h-12 flex flex-col justify-center items-center gap-[6px] cursor-pointer z-[100] p-2 rounded-full bg-black/20 backdrop-blur-sm border border-white/10 transition-all duration-300 hover:bg-white/10;
}

.menu-line {
    @apply w-6 h-[2px] bg-white rounded-full transition-all duration-300;
}

.menu-btn.open .line-1 {
    transform: rotate(45deg) translate(5px, 5px);
}

.menu-btn.open .line-2 {
    opacity: 0;
}

.menu-btn.open .line-3 {
    transform: rotate(-45deg) translate(4px, -4px);
}

.sidebar-overlay {
    @apply fixed inset-0 bg-black/60 z-[90] transition-opacity duration-500 pointer-events-none opacity-0 backdrop-blur-sm;
}

.sidebar-overlay.open {
    @apply opacity-100 pointer-events-auto;
}

.sidebar-menu {
    @apply fixed top-0 right-0 h-full w-80 bg-[#02040a]/95 backdrop-blur-xl border-l border-white/10 z-[95] transform translate-x-full transition-transform duration-500 ease-in-out shadow-2xl;
}

.sidebar-menu.open {
    @apply translate-x-0;
}

.sidebar-link {
    @apply text-2xl font-serif text-slate-300 mb-4 transition-all duration-300 hover:text-white hover:translate-x-2 block;
}

.sidebar-link::before {
    content: '⠶';
    @apply text-purple-500 mr-4 transition-opacity duration-300 opacity-0 inline-block;
}

.sidebar-link:hover::before {
    @apply opacity-100;
}

@keyframes shake {
    0% {
        transform: translate(1px, 1px) rotate(0deg);
    }

    10% {
        transform: translate(-1px, -2px) rotate(-1deg);
    }

    20% {
        transform: translate(-3px, 0px) rotate(1deg);
    }

    30% {
        transform: translate(3px, 2px) rotate(0deg);
    }

    40% {
        transform: translate(1px, -1px) rotate(1deg);
    }

    50% {
        transform: translate(-1px, 2px) rotate(-1deg);
    }

    60% {
        transform: translate(-3px, 1px) rotate(0deg);
    }

    70% {
        transform: translate(3px, 1px) rotate(-1deg);
    }

    80% {
        transform: translate(-1px, -1px) rotate(1deg);
    }

    90% {
        transform: translate(1px, 2px) rotate(0deg);
    }

    100% {
        transform: translate(1px, -2px) rotate(-1deg);
    }
}

.warp-active #main-content {
    animation: shake 0.5s infinite;
    opacity: 0.8;
}

/* --- ACESSIBILIDADE --- */

/* Respeitar preferências de movimento reduzido */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    /* Desabilitar cursor customizado para melhor acessibilidade */
    body {
        cursor: auto !important;
    }

    #custom-cursor,
    #custom-cursor-blur {
        display: none !important;
    }
}

/* --- DESIGN IMPROVEMENTS --- */

/* Sistema de espaçamento consistente */
.section-spacing {
    @apply mb-24 md:mb-32 lg:mb-40;
}

.card-spacing {
    @apply p-6 md:p-8;
}

/* Project cards com hover effects */
.project-card {
    @apply supernova-card p-6 transition-all duration-500 relative;
    transform-style: preserve-3d;
}

.project-card:hover {
    @apply -translate-y-2;
    box-shadow: 0 20px 40px rgba(168, 85, 247, 0.3);
}

.project-card::before {
    content: '';
    @apply absolute inset-0 rounded-xl opacity-0 transition-opacity duration-500;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, transparent 50%);
}

.project-card:hover::before {
    @apply opacity-100;
}

/* Glow effect nos headings */
.glow-text {
    text-shadow:
        0 0 10px rgba(168, 85, 247, 0.5),
        0 0 20px rgba(168, 85, 247, 0.3),
        0 0 30px rgba(168, 85, 247, 0.2);
}

h1:hover {
    @apply glow-text;
    transition: text-shadow 0.3s ease;
}

/* Gradient borders animados */
@keyframes gradient-rotate {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

.gradient-border {
    position: relative;
    background: linear-gradient(90deg, #a855f7, #ec4899, #3b82f6, #a855f7);
    background-size: 300% 300%;
    animation: gradient-rotate 3s ease infinite;
    padding: 2px;
    border-radius: 0.75rem;
}

.gradient-border-inner {
    @apply bg-[#02040a] rounded-[0.625rem];
}